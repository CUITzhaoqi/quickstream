digraph {

    label="quickstream job flow";

    subgraph cluster_0 {
        label="filter_1";
        color=red;
        filter_1_stage [label="stage", color=red];
        filter_1_unused [label="unused", color=red];
        filter_1_working [label="working", color=red];
    }

    subgraph cluster_1 {
        label="filter_2";
        color=green;
        filter_2_stage [label="stage", color=green];
        filter_2_unused [label="unused", color=green];
        filter_2_working [label="working", color=green];
    }

    subgraph cluster_2 {
        label="filter_3";
        color=blue;
        filter_3_stage [label="stage", color=blue];
        filter_3_unused [label="unused", color=blue];
        filter_3_working [label="working", color=blue];
    }


    filter_1_unused  -> filter_1_stage [color=red];
    filter_1_stage   -> stream_queue [color=red];
    stream_queue     -> filter_1_working [color=red];
    filter_1_working -> filter_1_unused [color=red];

    filter_2_unused  -> filter_2_stage [color=green];
    filter_2_stage   -> stream_queue [color=green];
    stream_queue     -> filter_2_working [color=green];
    filter_2_working -> filter_2_unused [color=green];

    filter_3_unused  -> filter_3_stage [color=blue];
    filter_3_stage   -> stream_queue [color=blue];
    stream_queue     -> filter_3_working [color=blue];
    filter_3_working -> filter_3_unused [color=blue];
}
