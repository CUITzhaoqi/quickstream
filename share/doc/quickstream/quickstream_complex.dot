// Diagram of a more complex quickstream

digraph {
    label="A more complex quickstream flow graph";

    subgraph cluster_0 {
        label="filter 0\nstdin";
        node [shape=invhouse, color=blue];
        output0_0 [label="output 0"];
        output0_1 [label="output 1"];
        output0_2 [label="output 2"];

    }

    subgraph cluster_1 {
        label="filter 1\nmung";
        node [shape=house, color=green];
        {rank = same; input1_0 [label="input 0"]; input1_1 [label="input 1"];}
        node [shape=invhouse, color=blue];
        {rank = same; output1_0 [label="output 0"];}
    }

    subgraph cluster_2 {
        label="filter 2\ndisplay";
        node [shape=house, color=green];
        input2_0 [ label="input 0"];
        input2_1 [ label="input 1"];
    }


    buffer_0 [shape=rect, color=red];
    buffer_1 [shape=rect, color=red];
    buffer_2 [shape=rect, color=red, style=dotted, label="buffer_0\npass through"];

    output0_2 -> buffer_1;

    buffer_0 -> buffer_2 [style=dotted, color=red];

    output0_0 -> buffer_0;
    output0_1 -> buffer_1;

    buffer_0 -> input1_0;
    buffer_1 -> {input1_1, input2_1};
    output1_0 -> buffer_2;
    buffer_2 -> input2_0;
}
