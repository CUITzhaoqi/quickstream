# This directory is strictly for testing and development.
#
# Maybe this directory should go away and be replaced by tests/ when this
# software package matures.

# Nothing in this directory should be installed.

# If this directory is not recursed into from the directory above this, so
# we recurse into these directories so that we stay consistent with the
# source in these directories.   We are testing files in ../lib/,
# ../include/quickstream, and ../lib/quickstream/plugins/filters by
# linking and loading with generated files there-in; and while we're at it
# we test building everything.
#
ifeq ($(strip $(MAKELEVEL)),0)
SUBDIRS :=\
 ../include/quickstream\
 ../lib\
 ../lib/quickstream/plugins/filters\
 ../bin\
 ../share/doc/quickstream
endif


getOpts_SOURCES := getOpts.c ../bin/getOpt.c
getOpt.o_CPPFLAGS := -I../bin
getOpts_LDFLAGS := -L../lib -lquickstream -Wl,-rpath=\$$ORIGIN/../lib

assert_SOURCES := assert.c
assert_LDFLAGS := -L../lib -lquickstream -Wl,-rpath=\$$ORIGIN/../lib

run_SOURCES := run.c
run_LDFLAGS := -L../lib -lquickstream -Wl,-rpath=\$$ORIGIN/../lib

run2_SOURCES := run2.c
run2_LDFLAGS := -L../lib -lquickstream -Wl,-rpath=\$$ORIGIN/../lib

test_qsError_SOURCES := test_qsError.c
test_qsError_LDFLAGS := -L../lib -lquickstream -Wl,-rpath=\$$ORIGIN/../lib


# Add extra clean files for this directory.
CLEANFILES := $(wildcard *.tmp)


CLEANERFILES := $(wildcard scc-snapshots-*.tgz)
CLEANERDIRS := $(wildcard scc-snapshots-*_src)


include ../quickbuild.make
